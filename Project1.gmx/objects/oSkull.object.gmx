<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sSkull</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>100</depth>
  <persistent>0</persistent>
  <parentName>oItem</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>type = "Skull";
makeActive();
setCollisionBounds(-4, -4, 4, 4);
breakPieces = true;
colTop = false;
colLeft = false;
colRight = false;
colBot = false;</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (breakPieces)
{
    playSound(global.sndBreak);
    instance_create(x, y, oSmokePuff)
    for (i = 0; i &lt; rand(1,2); i += 1)
    {
        piece = instance_create(x-2, y-2, oBone);
        if (colLeft) piece.xVel = rand(1,3);
        else if (colRight) piece.xVel = -rand(1,3);
        else piece.xVel = rand(1,3)-rand(1,3);
        if (colTop) piece.yVel = rand(0,3);
        else piece.yVel = -rand(0,3);
    }
    if (held)
    {
        oPlayer1.holdItem = 0;
        oPlayer1.pickupItem = "";
    }
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>overrides parent step</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>destroy = false;
colTop = false;
colLeft = false;
colRight = false;
colBot = false;
if (held)
{
    if (oCharacter.facing == LEFT)
    {
        x = oCharacter.x - 4;  
    }
    else if (oCharacter.facing == RIGHT)
    {
        x = oCharacter.x + 4;  
    }
    
    if (oCharacter.state == DUCKING and abs(oCharacter.xVel) &lt; 2) y = oCharacter.y + 4;
    else y = oCharacter.y;  
    depth = 1;
}
else
{
    moveTo(xVel, yVel);

    if (yVel &lt; 6)
    {
        yVel += myGrav;
    }
    
    if (isCollisionTop(1)) colTop = true;    
    if (isCollisionLeft(1)) colLeft = true;
    if (isCollisionRight(1)) colRight = true;
    if (isCollisionBottom(1)) colBot = true;

    if (colTop and yVel &lt; 0)
    {
        if (yVel &lt; 2) destroy = true;
        yVel = -yVel * 0.8;
    }
    
    if (colLeft or colRight)
    {
        if (abs(xVel) &gt; 2) destroy = true;
        xVel = -xVel * 0.5;
    }
    
    if (colBot)
    {
        if (yVel &gt; 3) destroy = true;
    
        // bounce
        if (yVel &gt; 1) yVel = -yVel * 0.5;
        else yVel = 0;
        
        // friction
        if (abs(xVel) &lt; 0.1) xVel = 0;
        else if (abs(xVel) != 0) xVel *= 0.3;
    }
    
    if (colLeft)
    {
        if (not colRight) x += 1;
        yVel = 0;
    }
    else if (colRight)
    {
        x -= 1;
        yVel = 0;
    }
    
    if (isCollisionBottom(0) and abs(yVel) &lt; 1)
    {
        y -= 1;
        yVel = 0;
    }

    depth = 100;
    
    if (collision_rectangle(x-3, y-3, x+3, y+3, oLava, 0, 0))
    {
        myGrav = 0;
        xVel = 0;
        yVel = 0;
        y += 0.05;
    }
    if (collision_point(x, y-5, oLava, 0, 0))
    {
        if (type == "Bomb")
        {
            instance_create(x, y, oExplosion);
            for (i = 0; i &lt; 3; i += 1)
            {
                instance_create(x, y, oFlame);
            }

            playSound(global.sndExplosion);
        }
        instance_destroy();
    }
}

if (collision_rectangle(x-3, y-3, x+3, y+3, oEnemy, 0, 0) and (abs(xVel) &gt; 2 or abs(yVel) &gt; 2))
{
    enemy = instance_nearest(x, y, oEnemy);
    if (not enemy.invincible)
        {
        enemy.xVel = xVel;
        with enemy
        {
            if (type == "Caveman" or type == "ManTrap" or type == "Yeti" or type == "Hawkman" or type == "Shopkeeper")
            {
                if (status != 98)
                {
                    if (type == "Caveman" or type == "Yeti" or type == "Hawkman" or type == "Shopkeeper")
                    {
                        for (i = 0; i &lt; 1; i += 1)
                        {
                            instance_create(x, y, oBlood);
                        }
                    }
                    status = STUNNED;
                    counter = stunTime;
                    yVel = -6;
                    playSound(global.sndHit);
                }
            }
            else
            {
                instance_create(x+8, y+8, oBlood);
                hp -= 1;
                origX = x;
                origY = y;
                shakeCounter = 10;
                playSound(global.sndHit);
            }
        }
        enemy.xVel = xVel * 0.3;
        
        if (type == "Arrow" or type == "Fish Bone")
            instance_destroy();
    }
    
    destroy = true;
}

if (type != "Damsel" and collision_rectangle(x-3, y-3, x+3, y+3, oDamsel, 0, 0) and (abs(xVel) &gt; 2 or abs(yVel) &gt; 2))
{
    enemy = instance_nearest(x, y, oDamsel);
    if (not enemy.invincible and (abs(xVel) &gt; 1 or abs(yVel) &gt; 1))
    {
        for (i = 0; i &lt; 1; i += 1)
        {
            instance_create(x, y, oBlood);
        }
    }
    with enemy
    {
        if (held) held = false;
        with oPlayer1 { holdItem = 0; }
        hp -= 1;
        yVel = -6;
        status = 2;
        counter = 120;
    }
    enemy.xVel = xVel * 0.3;
        
    destroy = true;
}

if (destroy)
{
    if (held)
    {
        oPlayer1.holdItem = 0;
        oPlayer1.pickupItemType = "";
    }
    instance_destroy();
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="oBullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy();</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
